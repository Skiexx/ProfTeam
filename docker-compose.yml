version: '3'

volumes:
    db_data:

networks:
    my_app_net:
        driver: bridge

services:
    proxy:
        image: nginx:stable-alpine
        ports:
        - "80:80"
        restart: unless-stopped
        networks:
        - my_app_net
    db:
        image: postgres:15.0-alpine
        restart: unless-stopped
        environment:
            POSTGRES_PASSWORD: QWEasd123@
            POSTGRES_USER: admin
            POSTGRES_DB: php
        volumes:
        - db_data:/var/lib/postgresql/data
        networks:
        - my_app_net
    php:
        image: php:8.1.12-alpine
        restart: unless-stopped
        networks:
        - my_app_net
#        volumes:
#        - ./php/html:/var/www/html
    adminer:
        image: adminer:4.8.1
        restart: unless-stopped
        ports:
        - "8080:8080"
        networks:
        - my_app_net
